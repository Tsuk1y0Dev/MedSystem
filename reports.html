<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û—Ç—á–µ—Ç—ã - –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="app-container">
        <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h2>–ú–µ–¥–°–∏—Å—Ç–µ–º–∞</h2>
                <p>–ü–æ–ª–∏–∫–ª–∏–Ω–∏–∫–∞ ‚Ññ1</p>
            </div>
            <div class="sidebar-nav">
                <a href="dashboard.html" class="nav-item">
                    <i>üìä</i> <span class="nav-text">–ì–ª–∞–≤–Ω–∞—è</span>
                </a>
                <a href="patients.html" class="nav-item">
                    <i>üë•</i> <span class="nav-text">–ü–∞—Ü–∏–µ–Ω—Ç—ã</span>
                </a>
                <a href="staff.html" class="nav-item">
                    <i>üë®‚Äç‚öïÔ∏è</i> <span class="nav-text">–ü–µ—Ä—Å–æ–Ω–∞–ª</span>
                </a>
                <a href="schedule.html" class="nav-item">
                    <i>üìÖ</i> <span class="nav-text">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</span>
                </a>
                <a href="reports.html" class="nav-item active">
                    <i>üìà</i> <span class="nav-text">–û—Ç—á—ë—Ç—ã</span>
                </a>
                <a href="settings.html" class="nav-item">
                    <i>‚öôÔ∏è</i> <span class="nav-text">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
                </a>
            </div>
            <div class="sidebar-footer">
                <div class="user-info">
                    <div class="user-avatar" id="userAvatar">–ò–ò</div>
                    <div class="user-details">
                        <div class="user-name" id="userName">–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤</div>
                        <div class="user-role" id="userRole">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</div>
                    </div>
                </div>
                <button class="logout-btn" id="logoutBtn">
                    <i>üö™</i> <span>–í—ã–π—Ç–∏</span>
                </button>
                <div class="clinic-name">–ü–æ–ª–∏–∫–ª–∏–Ω–∏–∫–∞ ‚Ññ1</div>
                <div id="currentDate">01.01.2023</div>
            </div>
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ -->
        <div class="main-content">
            <div class="content-header">
                <h1>–û—Ç—á–µ—Ç—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞</h1>
                <div class="search-container">
                    <input type="text" class="search-input" id="reportsSearch" placeholder="–ü–æ–∏—Å–∫ –æ—Ç—á–µ—Ç–æ–≤...">
                    <button class="btn btn-primary" id="searchBtn">–ù–∞–π—Ç–∏</button>
                </div>
            </div>
            <div class="content-body">
                <div class="page-title">
                    <h1>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã</h1>
                    <button class="btn btn-accent" id="generateReportBtn">–°–æ–∑–¥–∞—Ç—å –æ—Ç—á–µ—Ç</button>
                </div>

                <!-- –§–∏–ª—å—Ç—Ä—ã –¥–ª—è –æ—Ç—á–µ—Ç–æ–≤ -->
                <div class="report-filters">
                    <h3>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ—Ç—á–µ—Ç–∞</h3>
                    <div class="filters">
                        <div class="filter-group">
                            <div class="filter-label">–¢–∏–ø –æ—Ç—á–µ—Ç–∞</div>
                            <select class="form-control" id="reportType">
                                <option value="patient">–ü–æ –ø–∞—Ü–∏–µ–Ω—Ç–∞–º</option>
                                <option value="staff">–ü–æ –ø–µ—Ä—Å–æ–Ω–∞–ª—É</option>
                                <option value="financial">–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π</option>
                                <option value="appointments">–ü–æ –ø—Ä–∏–µ–º–∞–º</option>
                                <option value="procedures">–ü–æ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞–º</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <div class="filter-label">–ü–µ—Ä–∏–æ–¥</div>
                            <select class="form-control" id="reportPeriod">
                                <option value="week">–ó–∞ –Ω–µ–¥–µ–ª—é</option>
                                <option value="month" selected>–ó–∞ –º–µ—Å—è—Ü</option>
                                <option value="quarter">–ó–∞ –∫–≤–∞—Ä—Ç–∞–ª</option>
                                <option value="year">–ó–∞ –≥–æ–¥</option>
                                <option value="custom">–ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥</option>
                            </select>
                        </div>
                        <div class="filter-group" id="customDateRange" style="display: none;">
                            <div class="filter-label">–ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥</div>
                            <div style="display: flex; gap: 10px;">
                                <input type="date" class="form-control" id="startDate">
                                <input type="date" class="form-control" id="endDate">
                            </div>
                        </div>
                        <div class="filter-group">
                            <div class="filter-label">&nbsp;</div>
                            <button class="btn btn-primary" id="applyFiltersBtn">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                        </div>
                    </div>
                </div>

                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                <div class="stats-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px;">
                    <div class="stat-card">
                        <h3>–í—Å–µ–≥–æ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤</h3>
                        <div class="value">1,247</div>
                        <div class="trend up">+12 –∑–∞ –º–µ—Å—è—Ü</div>
                    </div>
                    <div class="stat-card">
                        <h3>–ù–æ–≤—ã—Ö –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤</h3>
                        <div class="value">34</div>
                        <div class="trend up">+5 –∑–∞ –º–µ—Å—è—Ü</div>
                    </div>
                    <div class="stat-card">
                        <h3>–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –ø—Ä–∏–µ–º–æ–≤</h3>
                        <div class="value">892</div>
                        <div class="trend up">+42 –∑–∞ –º–µ—Å—è—Ü</div>
                    </div>
                    <div class="stat-card">
                        <h3>–°—Ä–µ–¥–Ω—è—è –∑–∞–≥—Ä—É–∑–∫–∞</h3>
                        <div class="value">78%</div>
                        <div class="trend up">+5% –∑–∞ –º–µ—Å—è—Ü</div>
                    </div>
                </div>

                <!-- –ì—Ä–∞—Ñ–∏–∫–∏ -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                    <div class="chart-container">
                        <h3>–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É</h3>
                        <div class="chart-placeholder">
                            –ì—Ä–∞—Ñ–∏–∫ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É
                        </div>
                    </div>
                    <div class="chart-container">
                        <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–∏–µ–º–æ–≤ –ø–æ –≤—Ä–∞—á–∞–º</h3>
                        <div class="chart-placeholder">
                            –ì—Ä–∞—Ñ–∏–∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø—Ä–∏–µ–º–æ–≤ –ø–æ –≤—Ä–∞—á–∞–º
                        </div>
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                    <div class="chart-container">
                        <h3>–î–∏–Ω–∞–º–∏–∫–∞ –Ω–æ–≤—ã—Ö –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤</h3>
                        <div class="chart-placeholder">
                            –ì—Ä–∞—Ñ–∏–∫ –¥–∏–Ω–∞–º–∏–∫–∏ –Ω–æ–≤—ã—Ö –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤
                        </div>
                    </div>
                    <div class="chart-container">
                        <h3>–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—è–º</h3>
                        <div class="chart-placeholder">
                            –ì—Ä–∞—Ñ–∏–∫ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—è–º
                        </div>
                    </div>
                </div>

                <!-- –°–ø–∏—Å–æ–∫ –æ—Ç—á–µ—Ç–æ–≤ -->
                <div class="card">
                    <div class="card-header">
                        <h3>–ò—Å—Ç–æ—Ä–∏—è –æ—Ç—á–µ—Ç–æ–≤</h3>
                        <button class="btn btn-sm btn-outline" id="exportAllBtn">–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ</button>
                    </div>
                    <div class="card-body">
                        <div class="table-container">
                            <table id="reportsTable">
                                <thead>
                                    <tr>
                                        <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                                        <th>–¢–∏–ø</th>
                                        <th>–ü–µ—Ä–∏–æ–¥</th>
                                        <th>–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è</th>
                                        <th>–ê–≤—Ç–æ—Ä</th>
                                        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>–û—Ç—á–µ—Ç –ø–æ –ø–∞—Ü–∏–µ–Ω—Ç–∞–º –∑–∞ —è–Ω–≤–∞—Ä—å 2023</td>
                                        <td>–ü–æ –ø–∞—Ü–∏–µ–Ω—Ç–∞–º</td>
                                        <td>01.01.2023 - 31.01.2023</td>
                                        <td>01.02.2023</td>
                                        <td>–ò–≤–∞–Ω–æ–≤ –ò.–ò.</td>
                                        <td>
                                            <button class="btn btn-sm btn-outline">–ü—Ä–æ—Å–º–æ—Ç—Ä</button>
                                            <button class="btn btn-sm btn-outline">–≠–∫—Å–ø–æ—Ä—Ç</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –æ—Ç—á–µ—Ç –∑–∞ 4 –∫–≤–∞—Ä—Ç–∞–ª 2022</td>
                                        <td>–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π</td>
                                        <td>01.10.2022 - 31.12.2022</td>
                                        <td>15.01.2023</td>
                                        <td>–ü–µ—Ç—Ä–æ–≤–∞ –ê.–°.</td>
                                        <td>
                                            <button class="btn btn-sm btn-outline">–ü—Ä–æ—Å–º–æ—Ç—Ä</button>
                                            <button class="btn btn-sm btn-outline">–≠–∫—Å–ø–æ—Ä—Ç</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–∏–µ–º–æ–≤ –∑–∞ –¥–µ–∫–∞–±—Ä—å 2022</td>
                                        <td>–ü–æ –ø—Ä–∏–µ–º–∞–º</td>
                                        <td>01.12.2022 - 31.12.2022</td>
                                        <td>05.01.2023</td>
                                        <td>–°–∏–¥–æ—Ä–æ–≤ –ê.–ü.</td>
                                        <td>
                                            <button class="btn btn-sm btn-outline">–ü—Ä–æ—Å–º–æ—Ç—Ä</button>
                                            <button class="btn btn-sm btn-outline">–≠–∫—Å–ø–æ—Ä—Ç</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>–ê–Ω–∞–ª–∏–∑ —Ä–∞–±–æ—Ç—ã –ø–µ—Ä—Å–æ–Ω–∞–ª–∞ –∑–∞ 2022 –≥–æ–¥</td>
                                        <td>–ü–æ –ø–µ—Ä—Å–æ–Ω–∞–ª—É</td>
                                        <td>01.01.2022 - 31.12.2022</td>
                                        <td>20.01.2023</td>
                                        <td>–ò–≤–∞–Ω–æ–≤ –ò.–ò.</td>
                                        <td>
                                            <button class="btn btn-sm btn-outline">–ü—Ä–æ—Å–º–æ—Ç—Ä</button>
                                            <button class="btn btn-sm btn-outline">–≠–∫—Å–ø–æ—Ä—Ç</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç—á–µ—Ç–∞ -->
    <div id="generateReportModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–∞</h2>
                <button class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label" for="reportName">–ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–∞</label>
                    <input type="text" class="form-control" id="reportName" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–∞">
                </div>
                <div class="form-group">
                    <label class="form-label" for="reportTypeModal">–¢–∏–ø –æ—Ç—á–µ—Ç–∞</label>
                    <select class="form-control" id="reportTypeModal">
                        <option value="patient">–ü–æ –ø–∞—Ü–∏–µ–Ω—Ç–∞–º</option>
                        <option value="staff">–ü–æ –ø–µ—Ä—Å–æ–Ω–∞–ª—É</option>
                        <option value="financial">–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π</option>
                        <option value="appointments">–ü–æ –ø—Ä–∏–µ–º–∞–º</option>
                        <option value="procedures">–ü–æ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞–º</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label" for="reportPeriodModal">–ü–µ—Ä–∏–æ–¥</label>
                    <select class="form-control" id="reportPeriodModal">
                        <option value="week">–ó–∞ –Ω–µ–¥–µ–ª—é</option>
                        <option value="month" selected>–ó–∞ –º–µ—Å—è—Ü</option>
                        <option value="quarter">–ó–∞ –∫–≤–∞—Ä—Ç–∞–ª</option>
                        <option value="year">–ó–∞ –≥–æ–¥</option>
                        <option value="custom">–ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥</option>
                    </select>
                </div>
                <div class="form-group" id="customDateRangeModal" style="display: none;">
                    <label class="form-label">–ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥</label>
                    <div style="display: flex; gap: 10px;">
                        <input type="date" class="form-control" id="startDateModal">
                        <input type="date" class="form-control" id="endDateModal">
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label" for="reportFormat">–§–æ—Ä–º–∞—Ç</label>
                    <select class="form-control" id="reportFormat">
                        <option value="pdf">PDF</option>
                        <option value="excel">Excel</option>
                        <option value="html">HTML</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label" for="reportDescription">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                    <textarea class="form-control" id="reportDescription" rows="3" placeholder="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" id="cancelReportBtn">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" id="saveReportBtn">
                    <span id="saveReportBtnText">–°–æ–∑–¥–∞—Ç—å –æ—Ç—á–µ—Ç</span>
                    <div class="loading hidden" id="saveReportLoading"></div>
                </button>
            </div>
        </div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div id="notification" class="notification">
        <span id="notificationText"></span>
        <button class="close-notification">&times;</button>
    </div>

    <script>
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notificationText');
            
            notificationText.textContent = message;
            notification.className = `notification ${type}`;
            notification.classList.add('show');
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
            setTimeout(() => {
                notification.classList.remove('show');
            }, 5000);
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ –∫–ª–∏–∫—É –Ω–∞ –∫—Ä–µ—Å—Ç–∏–∫
        document.querySelector('.close-notification').addEventListener('click', function() {
            document.getElementById('notification').classList.remove('show');
        });

        document.addEventListener('DOMContentLoaded', function() {
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
            if (localStorage.getItem('isLoggedIn') !== 'true') {
                window.location.href = 'index.html';
                return;
            }

            // DOM —ç–ª–µ–º–µ–Ω—Ç—ã
            const logoutBtn = document.getElementById('logoutBtn');
            const currentDateElement = document.getElementById('currentDate');
            const userAvatar = document.getElementById('userAvatar');
            const userName = document.getElementById('userName');
            const userRole = document.getElementById('userRole');
            const generateReportBtn = document.getElementById('generateReportBtn');
            const generateReportModal = document.getElementById('generateReportModal');
            const cancelReportBtn = document.getElementById('cancelReportBtn');
            const saveReportBtn = document.getElementById('saveReportBtn');
            const saveReportBtnText = document.getElementById('saveReportBtnText');
            const saveReportLoading = document.getElementById('saveReportLoading');
            const closeBtns = document.querySelectorAll('.close-btn');
            const reportPeriod = document.getElementById('reportPeriod');
            const customDateRange = document.getElementById('customDateRange');
            const applyFiltersBtn = document.getElementById('applyFiltersBtn');
            const exportAllBtn = document.getElementById('exportAllBtn');
            const reportPeriodModal = document.getElementById('reportPeriodModal');
            const customDateRangeModal = document.getElementById('customDateRangeModal');

            // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã
            function setCurrentDate() {
                const now = new Date();
                const formattedDate = now.toLocaleDateString('ru-RU');
                currentDateElement.textContent = formattedDate;
            }

            // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            function loadUserData() {
                const savedName = localStorage.getItem('userName');
                const savedRole = localStorage.getItem('userRole');
                
                if (savedName) {
                    userName.textContent = savedName;
                    // –°–æ–∑–¥–∞–µ–º –∏–Ω–∏—Ü–∏–∞–ª—ã –¥–ª—è –∞–≤–∞—Ç–∞—Ä–∞
                    const initials = savedName.split(' ').map(n => n[0]).join('');
                    userAvatar.textContent = initials;
                }
                
                if (savedRole) {
                    userRole.textContent = savedRole;
                }
            }

            // –ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –ø–æ–ª–µ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞
            function toggleCustomDateRange(selectElement, container) {
                if (selectElement.value === 'custom') {
                    container.style.display = 'block';
                } else {
                    container.style.display = 'none';
                }
            }

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
            generateReportBtn.addEventListener('click', () => {
                generateReportModal.classList.add('active');
            });

            cancelReportBtn.addEventListener('click', () => {
                generateReportModal.classList.remove('active');
                // –û—á–∏—Å—Ç–∫–∞ —Ñ–æ—Ä–º—ã
                document.getElementById('reportName').value = '';
                document.getElementById('reportTypeModal').value = 'patient';
                document.getElementById('reportPeriodModal').value = 'month';
                document.getElementById('reportFormat').value = 'pdf';
                document.getElementById('reportDescription').value = '';
                customDateRangeModal.style.display = 'none';
            });

            closeBtns.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const modal = e.target.closest('.modal');
                    modal.classList.remove('active');
                });
            });

            saveReportBtn.addEventListener('click', () => {
                // –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–æ—Ä–º—ã
                const name = document.getElementById('reportName').value;
                const type = document.getElementById('reportTypeModal').value;
                const period = document.getElementById('reportPeriodModal').value;
                const format = document.getElementById('reportFormat').value;
                const description = document.getElementById('reportDescription').value;
                
                // –ü—Ä–æ—Å—Ç–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
                if (!name) {
                    showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–∞', 'error');
                    return;
                }
                
                // –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
                saveReportBtnText.classList.add('hidden');
                saveReportLoading.classList.remove('hidden');
                saveReportBtn.disabled = true;
                
                // –ò–º–∏—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç—á–µ—Ç–∞
                setTimeout(() => {
                    // –°–∫—Ä—ã—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
                    saveReportBtnText.classList.remove('hidden');
                    saveReportLoading.classList.add('hidden');
                    saveReportBtn.disabled = false;
                    
                    generateReportModal.classList.remove('active');
                    
                    // –û—á–∏—Å—Ç–∫–∞ —Ñ–æ—Ä–º—ã
                    document.getElementById('reportName').value = '';
                    document.getElementById('reportTypeModal').value = 'patient';
                    document.getElementById('reportPeriodModal').value = 'month';
                    document.getElementById('reportFormat').value = 'pdf';
                    document.getElementById('reportDescription').value = '';
                    customDateRangeModal.style.display = 'none';
                    
                    showNotification('–û—Ç—á–µ—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!', 'success');
                }, 2000);
            });

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–∏–æ–¥–∞
            reportPeriod.addEventListener('change', function() {
                toggleCustomDateRange(this, customDateRange);
            });

            reportPeriodModal.addEventListener('change', function() {
                toggleCustomDateRange(this, customDateRangeModal);
            });

            applyFiltersBtn.addEventListener('click', () => {
                showNotification('–§–∏–ª—å—Ç—Ä—ã –ø—Ä–∏–º–µ–Ω–µ–Ω—ã', 'success');
            });

            exportAllBtn.addEventListener('click', () => {
                showNotification('–í—Å–µ –æ—Ç—á–µ—Ç—ã —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã', 'success');
            });

            // –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
            logoutBtn.addEventListener('click', function() {
                localStorage.removeItem('isLoggedIn');
                localStorage.removeItem('userEmail');
                localStorage.removeItem('userName');
                localStorage.removeItem('userRole');
                window.location.href = 'index.html';
            });

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
            setCurrentDate();
            loadUserData();
        });
    </script>
</body>
</html>